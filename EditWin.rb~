require 'curses'
require './Campus' 

class EditWin
	def init(wind,filepath)
		@window = wind.subwin(wind.maxy - 3,wind.maxx - 11,0,0)
		@window.scrollok(true);
		@campus = Campus::Campus.new
		@campus.load(filepath)
		@color_list = [[false,false,false,false,false,false,false,false,],[false,false,false,false,false,false,false,false,],[false,false,false,false,false,false,false,false,],[false,false,false,false,false,false,false,false,],[false,false,false,false,false,false,false,false,],[false,false,false,false,false,false,false,false,],[false,false,false,false,false,false,false,false,],[false,false,false,false,false,false,false,false,]] 
	end
	
	def display()
		@window.setpos(0,0)
		@window.maxy.times.with_index{|idx|
			@campus.getLine(idx).each{|char|
				@window.setpos(idx,char['x'])
				@window.addstr(char['char'])
			}
		}
		@window.refresh
	end
end
